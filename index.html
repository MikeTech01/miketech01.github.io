<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Michael Alibeaj — M.Sc. Computer Science</title>
<meta name="description" content="Portfolio and contact for Michael Alibeaj, M.Sc. Computer Science." />
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 100 100%27><rect width=%27100%27 height=%27100%27 rx=%2712%27 fill=%27%23232F3E%27/><text x=%2750%25%27 y=%2757%25%27 text-anchor=%27middle%27 font-size=%2746%27 fill=%27%23FF9900%27 font-family=%27Arial%27>MA</text></svg>">

<style>
:root{
  --navy:#232F3E; --navy-2:#1B2532; --ink:#F5F7FB; --muted:#D6DEEE;
  --line:#2e3a4a; --blue:#146EB4; --orange:#FF9900;
  --radius:14px; --max:1180px; --rail:330px;
  --shadow:0 10px 28px rgba(0,0,0,.25);
  --font:ui-sans-serif,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;color:var(--ink);font:17px/1.7 var(--font);
  background:linear-gradient(180deg,#101723,var(--navy) 50%,#0c131b);
}
a{color:#9ccdfb;text-decoration:none}
a:hover{text-decoration:underline}

.page{max-width:var(--max);margin:0 auto;display:grid;
  grid-template-columns:var(--rail) 1fr;gap:28px;padding:28px}
.rail{position:sticky;top:0;align-self:start;height:max-content;
  padding:22px;border:1px solid var(--line);border-radius:var(--radius);
  background:var(--navy-2);box-shadow:var(--shadow)}
.name{display:flex;align-items:center;gap:12px}
.badge{width:48px;height:48px;border-radius:10px;display:grid;place-items:center;font-weight:900;color:#0f172a;
  background:linear-gradient(180deg,#ffd89a 0%,#ffb347 60%),linear-gradient(90deg,#4aa3e0,#146EB4);
  border:1px solid #39485b;}
.role{color:#e6eefc;opacity:.92;margin:6px 0 12px;font-size:1rem}
.meta{color:#cfe0ff;font-size:0.95rem}
.actions a{display:block;text-align:center;margin-top:10px;padding:12px 14px;
  border-radius:10px;border:1px solid #3a4a5f;background:#ffb347;color:#0f172a;font-weight:800;text-decoration:none}
.actions a.secondary{background:#243142;color:#e9f2ff;font-weight:700}
nav{margin-top:16px;border-top:1px solid var(--line);padding-top:12px}
nav a{display:block;padding:8px 0;color:#d7e5ff}
nav a.active{color:#ffffff;font-weight:800}
main{min-width:0}

.title{padding:20px;border:1px solid var(--line);border-radius:var(--radius);
  background:#1e2836;box-shadow:var(--shadow)}
.title h1{margin:0;font-size:clamp(24px,3.4vw,36px);letter-spacing:.2px;color:#fff}
.title p{margin:8px 0 0;color:#eaf2ff;opacity:.95}

section.panel{padding:24px 20px;border:1px solid var(--line);border-radius:var(--radius);
  background:#1e2836;box-shadow:var(--shadow);margin-top:16px}
section h2{margin:0 0 10px;font-size:18px;text-transform:uppercase;color:#dbe7ff}
.list{margin:10px 0 0;padding-left:18px;color:#e6eeff}
footer{opacity:.85;color:#c6d1e3;font-size:15px;text-align:center;margin-top:12px}

/* --- Snapshot --- */
.kpis{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-top:10px}
.kpi{border:1px solid var(--line);border-radius:12px;background:#233042;padding:16px;min-height:104px;position:relative;overflow:hidden}
.kpi.good::after{content:"";position:absolute;inset:-2px;border-radius:12px;padding:1px;background:linear-gradient(135deg,#35d399,#ffb347);-webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);-webkit-mask-composite:xor;mask-composite:exclude;opacity:.35}
.kpi .label{color:var(--muted);font-size:1rem}
.kpi .value{font-size:1.8rem;font-weight:800;color:#fff;margin-top:4px}
.kpi .delta{font-size:1rem;margin-top:2px}
.kpi .delta.up{color:#35d399}
.kpi .delta.down{color:#fcae66}
.kpi.skeleton{color:transparent;background:linear-gradient(90deg,#233042 0,#2a3a4f 50%,#233042 100%);background-size:200% 100%;animation:shimmer 1.1s infinite linear}
@keyframes shimmer{to{background-position:-200% 0}}

.charts{display:grid;grid-template-columns:1.15fr 0.85fr;gap:14px;margin-top:14px}
.chart-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
figure.chart{border:1px solid var(--line);border-radius:12px;background:#1e2836;padding:14px;margin:0}
figure.chart h3{margin:0 0 8px;font-size:1.08rem;color:#dbe7ff}
.chart-svg{width:100%;height:240px;display:block}
.chart-legend{color:#cfd8ea;font-size:1rem;margin-top:6px}

/* responsive */
@media (max-width:980px){
  .page{grid-template-columns:1fr}
  .rail{position:relative}
  nav{display:flex;gap:12px;flex-wrap:wrap}
  nav a{padding:0}
  .kpis{grid-template-columns:1fr 1fr}
  .charts{grid-template-columns:1fr}
  .chart-grid{grid-template-columns:1fr}
}
</style>
</head>
<body>
<div class="page">
  <aside class="rail">
    <div class="name">
      <div class="badge">MA</div>
      <div>
        <strong>Michael Alibeaj</strong><br/>
        <div class="role">M.Sc. Computer Science — Politecnico di Milano</div>
      </div>
    </div>
    <div class="meta">Milan, Italy · <a href="mailto:malibeaj01@outlook.com">malibeaj01@outlook.com</a></div>
    <div class="actions">
      <a href="cv.html">View CV</a>
      <a class="secondary" href="https://github.com/MikeTech01" target="_blank" rel="noreferrer">GitHub</a>
      <a class="secondary" href="https://www.linkedin.com/in/michael-alibeaj-9810771a6/" target="_blank" rel="noreferrer">LinkedIn</a>
    </div>
    <nav>
      <a href="#about" class="active">About</a>
      <a href="#skills">Skills</a>
      <a href="#metrics">Snapshot</a>
      <a href="#awards">Awards</a>
      <a href="#contact">Contact</a>
    </nav>
  </aside>

  <main>
    <div class="title">
      <h1>Business Intelligence & Data — Student Portfolio</h1>
      <p>Focused on Python/SQL data modeling and BI that enable clear, confident decisions.</p>
    </div>

    <section id="about" class="panel">
      <h2>About</h2>
      <p>I turn messy datasets into reliable metrics and readable dashboards. Strengths: Python (Pandas), SQL, pragmatic BI delivery. I care about crisp metric definitions, data quality checks, and shipping insights that non-technical stakeholders can actually use.</p>
    </section>

    <section id="skills" class="panel">
      <h2>Skills</h2>
      <ul class="list">
        <li><strong>Analytics & BI:</strong> SQL, Power BI, Excel (PowerQuery), Matplotlib</li>
        <li><strong>Data Engineering:</strong> Python (Pandas), ETL/ELT, REST APIs, Git/GitHub</li>
        <li><strong>ML & Statistics:</strong> scikit-learn, TensorFlow/Keras, NLP basics</li>
      </ul>
    </section>

    <!-- ================= Snapshot ================= -->
    <section id="metrics" class="panel" aria-labelledby="metrics-title">
      <h2 id="metrics-title">Snapshot</h2>

      <!-- KPIs -->
      <div class="kpis" role="list">
        <div class="kpi skeleton" role="listitem">
          <div class="label">Projects (owned + shared)</div>
          <div class="value" id="kpi-projects">—</div>
          <div class="delta" id="kpi-projects-delta">loading…</div>
        </div>
        <div class="kpi skeleton" role="listitem">
          <div class="label">Stars</div>
          <div class="value" id="kpi-stars">—</div>
          <div class="delta" id="kpi-stars-delta">loading…</div>
        </div>
        <div class="kpi skeleton" role="listitem">
          <div class="label">CI Hygiene</div>
          <div class="value" id="kpi-ci">—</div>
          <div class="delta" id="kpi-ci-note">Repos with Actions</div>
        </div>
        <div class="kpi skeleton" role="listitem">
          <div class="label">README Coverage</div>
          <div class="value" id="kpi-readme">—</div>
          <div class="delta" id="kpi-readme-note">Repos with README</div>
        </div>
      </div>

      <!-- Charts -->
      <div class="charts">
        <figure class="chart">
          <h3>Activity by Month (last 12)</h3>
          <svg id="monthchart" class="chart-svg" viewBox="0 0 700 240" preserveAspectRatio="xMidYMid meet"></svg>
          <div class="chart-legend" id="month-legend">Repos updated per month</div>
        </figure>

        <div class="chart-grid">
          <figure class="chart">
            <h3>Skill Focus (from repos)</h3>
            <svg id="langchart" class="chart-svg" viewBox="0 0 700 240" preserveAspectRatio="xMidYMid meet"></svg>
            <div class="chart-legend">Top repository languages</div>
          </figure>

          <figure class="chart">
            <h3>Top Repos by Stars</h3>
            <svg id="topstars" class="chart-svg" viewBox="0 0 700 240" preserveAspectRatio="xMidYMid meet"></svg>
            <div class="chart-legend">Top 3 public repos</div>
          </figure>

          <figure class="chart">
            <h3>Featured (Top 3)</h3>
            <div class="chart-legend"><ul id="featured-list" style="margin:0;padding-left:18px;font-size:1rem;line-height:1.5"></ul></div>
          </figure>

          <figure class="chart">
            <h3>API Status</h3>
            <div class="chart-legend" id="api-status">Fetching GitHub data…</div>
          </figure>
        </div>
      </div>
    </section>
    <!-- ============================================ -->

    <section id="awards" class="panel">
      <h2>Awards</h2>
      <ul class="list">
        <li><strong>Data Management for the Web</strong> — 1st Place</li>
        <li><strong>Artificial Neural Networks & Deep Learning</strong> — 2nd Place</li>
      </ul>
    </section>

    <section id="contact" class="panel">
      <h2>Contact</h2>
      <ul class="list" style="list-style:none;padding-left:0">
        <li>Email: <a href="mailto:malibeaj01@outlook.com">malibeaj01@outlook.com</a></li>
        <li>GitHub: <a href="https://github.com/MikeTech01" target="_blank" rel="noreferrer">github.com/MikeTech01</a></li>
        <li>LinkedIn: <a href="https://www.linkedin.com/in/michael-alibeaj-9810771a6/" target="_blank" rel="noreferrer">linkedin.com/in/michael-alibeaj-9810771a6</a></li>
      </ul>
    </section>

    <footer>© <span id="year"></span> Michael Alibeaj</footer>
  </main>
</div>

<script>
document.getElementById('year').textContent = new Date().getFullYear();
</script>

<!-- === GitHub Snapshot Script (owned + shared, readable charts) === -->
<script>
/* ============== CONFIG ============== */
const GH_USER = 'MikeTech01';     // <-- change if needed
const MAX_HEALTH_REPOS = 15;      // CI/README checks cap
const EVENTS_LIMIT = 30;          // public events scanned for shared repos
const CACHE_TTL_MS = 15 * 60 * 1000;

/* ============== UTIL ============== */
const $ = s => document.querySelector(s);
const setText = (sel,val)=>{ const n=$(sel); if(n) n.textContent = val; };
const rmSkel = ()=> document.querySelectorAll('.kpi.skeleton').forEach(k=>k.classList.remove('skeleton'));
const addGood = (el)=>{ const n = el?.closest('.kpi'); if(n) n.classList.add('good'); };
function countTo(el, target, suffix=""){ if(!el) return; const start = +String(el.textContent).replace(/\D/g,'')||0; const dur=800; const t0=performance.now(); const step=t=>{const p=Math.min(1,(t-t0)/dur); el.textContent = Math.round(start+(target-start)*p)+suffix; if(p<1) requestAnimationFrame(step)}; requestAnimationFrame(step); }
const cacheGet = (k,ttl)=>{ try{const v=localStorage.getItem(k); if(!v) return null; const {t,data}=JSON.parse(v); return (Date.now()-t < ttl)?data:null }catch{return null}};
const cacheSet = (k,data)=>{ try{localStorage.setItem(k, JSON.stringify({t:Date.now(), data}))}catch{} };
const fmt = new Intl.NumberFormat('en', { maximumFractionDigits: 0 });
const short = (name,max=26)=> name.length>max ? name.slice(0,max-1)+'…' : name;

/* ============== SVG HELPERS (larger, clearer) ============== */
function drawColumns(svgId, series){
  const svg=document.getElementById(svgId); if(!svg||!series?.length)return;
  while(svg.lastChild) svg.removeChild(svg.lastChild);
  const W=700,H=240,L=56,R=24,T=16,B=40;
  const barW=((W-L-R)/series.length)*0.6, gap=((W-L-R)/series.length)*0.4;
  const maxV=Math.max(1,...series.map(s=>s.value));
  const niceMax=Math.max(1, Math.ceil(maxV/5)*5);

  // x-axis
  const axisX=document.createElementNS('http://www.w3.org/2000/svg','line');
  axisX.setAttribute('x1',L);axisX.setAttribute('x2',W-R);axisX.setAttribute('y1',H-B);axisX.setAttribute('y2',H-B);
  axisX.setAttribute('stroke','#2e3a4a');svg.appendChild(axisX);

  series.forEach((s,i)=>{
    const x=L+i*(barW+gap)+gap*0.5;
    const h=(s.value/niceMax)*(H-T-B);
    const y=(H-B)-h;

    const rect=document.createElementNS('http://www.w3.org/2000/svg','rect');
    rect.setAttribute('x',x); rect.setAttribute('y',y);
    rect.setAttribute('width',barW); rect.setAttribute('height',h);
    rect.setAttribute('rx','7'); rect.setAttribute('fill',s.color||'#7fb8ff'); rect.setAttribute('opacity','0.94');
    rect.appendChild(document.createElementNS('http://www.w3.org/2000/svg','title')).textContent = `${s.label}: ${fmt.format(s.value)}`;
    svg.appendChild(rect);

    if (s.value > 0){
      const val=document.createElementNS('http://www.w3.org/2000/svg','text');
      val.setAttribute('x',x+barW/2); val.setAttribute('y',y-8);
      val.setAttribute('text-anchor','middle'); val.setAttribute('fill','#ffffff'); val.setAttribute('font-size','14');
      val.textContent=fmt.format(s.value); svg.appendChild(val);
    }

    const lbl=document.createElementNS('http://www.w3.org/2000/svg','text');
    lbl.setAttribute('x',x+barW/2); lbl.setAttribute('y',H-B+20);
    lbl.setAttribute('text-anchor','middle'); lbl.setAttribute('fill','#D6DEEE'); lbl.setAttribute('font-size','13');
    lbl.textContent=s.label; svg.appendChild(lbl);
  });
}

function drawHBars(svgId, series){
  const svg=document.getElementById(svgId); if(!svg||!series?.length)return;
  while(svg.lastChild) svg.removeChild(svg.lastChild);
  const W=700,H=240,L=200,R=28,T=18,B=18;
  const rowH = Math.min(42, (H-T-B)/series.length - 8);
  const maxV=Math.max(1,...series.map(s=>s.value));

  series.forEach((s,i)=>{
    const y=T + i*(rowH+12);
    const rawW = (W-L-R)*(s.value/maxV);
    const w = Math.max(s.value>0 ? 8 : 4, rawW);

    const name=document.createElementNS('http://www.w3.org/2000/svg','text');
    name.setAttribute('x',L-12); name.setAttribute('y',y+rowH/2+5);
    name.setAttribute('text-anchor','end'); name.setAttribute('fill','#D6DEEE'); name.setAttribute('font-size','14');
    name.textContent=short(s.label); name.appendChild(document.createElementNS('http://www.w3.org/2000/svg','title')).textContent = s.label;
    svg.appendChild(name);

    const r=document.createElementNS('http://www.w3.org/2000/svg','rect');
    r.setAttribute('x',L); r.setAttribute('y',y); r.setAttribute('width',w); r.setAttribute('height',rowH);
    r.setAttribute('rx','7'); r.setAttribute('fill', s.color || '#FF9900'); r.setAttribute('opacity','0.94');
    r.appendChild(document.createElementNS('http://www.w3.org/2000/svg','title')).textContent = `${s.label}: ${fmt.format(s.value)} ★`;
    svg.appendChild(r);

    const val=document.createElementNS('http://www.w3.org/2000/svg','text');
    val.setAttribute('x',L+w+8); val.setAttribute('y',y+rowH/2+5);
    val.setAttribute('fill','#ffffff'); val.setAttribute('font-size','14'); val.textContent=fmt.format(s.value);
    svg.appendChild(val);
  });

  if (series.every(s=>s.value===0)){
    const t=document.createElementNS('http://www.w3.org/2000/svg','text');
    t.setAttribute('x',L); t.setAttribute('y',H/2);
    t.setAttribute('fill','#cfd8ea'); t.setAttribute('font-size','14');
    t.textContent='No stars yet — add a README & description to attract stars.';
    svg.appendChild(t);
  }
}

/* ============== DATA FETCH ============== */
async function fetchJSON(url){
  const res = await fetch(url, { headers:{'Accept':'application/vnd.github+json'} });
  if(!res.ok) throw new Error(res.status+' '+res.statusText);
  return res.json();
}
async function fetchOwnedRepos(user){
  return (await fetchJSON(`https://api.github.com/users/${user}/repos?per_page=100&type=owner&sort=updated`)).filter(r=>!r.fork);
}
async function fetchEvents(user){
  return fetchJSON(`https://api.github.com/users/${user}/events/public`);
}
async function fetchRepoByFullName(fullName){
  return fetchJSON(`https://api.github.com/repos/${fullName}`);
}
async function hasReadme(owner, repo){
  const res = await fetch(`https://api.github.com/repos/${owner}/${repo}/readme`, { headers:{'Accept':'application/vnd.github+json'} });
  return res.ok;
}
async function hasWorkflows(owner, repo){
  const res = await fetch(`https://api.github.com/repos/${owner}/${repo}/actions/workflows`, { headers:{'Accept':'application/vnd.github+json'} });
  if(!res.ok) return false;
  const j = await res.json();
  return (j.total_count||0) > 0;
}

/* ============== COMBINE OWNED + SHARED ============== */
async function fetchOwnedAndShared(user){
  const [owned, events] = await Promise.all([ fetchOwnedRepos(user), fetchEvents(user) ]);

  const pushed = events.filter(e => e.type === 'PushEvent').slice(0, EVENTS_LIMIT);
  const sharedFullNames = Array.from(new Set(pushed.map(e => e.repo?.name).filter(Boolean)));

  const sharedSubset = sharedFullNames.slice(0, 15);
  const sharedDetails = [];
  for (const full of sharedSubset){
    // eslint-disable-next-line no-await-in-loop
    const rep = await fetchRepoByFullName(full).catch(()=>null);
    if(rep && !rep.fork) sharedDetails.push(rep);
  }

  const byFull = {};
  [...owned, ...sharedDetails].forEach(r => { if(r && r.full_name) byFull[r.full_name] = r; });
  const combined = Object.values(byFull);

  return { owned, combined };
}

/* ============== RENDER ============== */
function monthKey(d){ return d.getUTCFullYear()+'-'+String(d.getUTCMonth()+1).padStart(2,'0'); }
function last12MonthLabels(){
  const names=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
  const out=[]; const now=new Date(Date.now());
  for(let i=11;i>=0;i--){
    const dt=new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth()-i, 1));
    out.push({key: monthKey(dt), label: names[dt.getUTCMonth()]});
  }
  return out;
}

async function renderSnapshot(){
  const cacheKey='gh_snapshot_v7';
  const cached = cacheGet(cacheKey, CACHE_TTL_MS);
  let data = cached;

  try{
    if(!data){
      const { owned, combined } = await fetchOwnedAndShared(GH_USER);

      const projectsCombined = combined.length;
      const starsOwned = owned.reduce((s,r)=>s+(r.stargazers_count||0),0);

      // Activity by Month (combined)
      const months = last12MonthLabels();
      const monthCount = Object.fromEntries(months.map(m=>[m.key,0]));
      combined.forEach(r=>{
        const d = new Date(r.pushed_at || r.updated_at);
        const k = monthKey(d);
        if(monthCount[k] !== undefined) monthCount[k] += 1;
      });
      const monthSeries = months.map((m,i)=>({ label:m.label, value:monthCount[m.key], color: i%2? '#3aa0ff':'#7fb8ff' }));

      // Language split (top 3)
      const counts={}; combined.forEach(r=>{ const k=r.language||'Other'; counts[k]=(counts[k]||0)+1; });
      const langSeries = Object.entries(counts).sort((a,b)=>b[1]-a[1]).slice(0,3).map(([label,value],i)=>({
        label, value, color: i===0?'#FF9900':i===1?'#3aa0ff':'#7fb8ff'
      }));

      // Top 3 by stars (combined)
      const top3 = combined
        .map(r=>({name:r.name, full:r.full_name, stars:r.stargazers_count||0, html_url:r.html_url}))
        .sort((a,b)=>b.stars-a.stars)
        .slice(0,3);
      const topStarsSeries = top3.map((r,i)=>({label:r.name, value:r.stars, color:i===0?'#FF9900':'#3aa0ff'}));

      // Health checks on top N recent repos (combined)
      const healthSet = combined
        .sort((a,b)=> new Date(b.pushed_at||b.updated_at) - new Date(a.pushed_at||a.updated_at))
        .slice(0, MAX_HEALTH_REPOS);
      let ciOK=0, readmeOK=0;
      for (const r of healthSet){
        // eslint-disable-next-line no-await-in-loop
        const [hasCI, hasRM] = await Promise.all([
          hasWorkflows(r.owner.login, r.name).catch(()=>false),
          hasReadme(r.owner.login, r.name).catch(()=>false),
        ]);
        if(hasCI) ciOK++;
        if(hasRM) readmeOK++;
      }
      const ciPct = healthSet.length ? Math.round(ciOK/healthSet.length*100) : 0;
      const readmePct = healthSet.length ? Math.round(readmeOK/healthSet.length*100) : 0;

      data = {projectsCombined, starsOwned, monthSeries, langSeries, top3, topStarsSeries, ciPct, readmePct};
      cacheSet(cacheKey, data);
    }

    // KPIs with animation
    countTo(document.getElementById('kpi-projects'), data.projectsCombined);
    countTo(document.getElementById('kpi-stars'), data.starsOwned);
    countTo(document.getElementById('kpi-ci'), data.ciPct, '%');
    countTo(document.getElementById('kpi-readme'), data.readmePct, '%');

    setText('#kpi-projects-delta','owner + shared (recent pushes)');
    setText('#kpi-stars-delta','public repo stars (owned)');
    setText('#kpi-ci-note', `Checked top ${MAX_HEALTH_REPOS} repos`);
    setText('#kpi-readme-note', `Checked top ${MAX_HEALTH_REPOS} repos`);

    if (data.ciPct >= 70) addGood(document.getElementById('kpi-ci'));
    if (data.readmePct >= 80) addGood(document.getElementById('kpi-readme'));

    rmSkel();

    // Charts
    drawColumns('monthchart', data.monthSeries);
    drawColumns('langchart', data.langSeries);
    drawHBars('topstars', data.topStarsSeries);

    // Featured list
    const UL = document.getElementById('featured-list');
    if (UL){
      UL.innerHTML = '';
      data.top3.forEach(r=>{
        const li = document.createElement('li');
        li.innerHTML = `<a href="${r.html_url}" target="_blank" rel="noreferrer" title="${r.full}">${r.name}</a> — ⭐ ${r.stars}`;
        UL.appendChild(li);
      });
    }

    setText('#month-legend', 'Repos updated per month (owned + shared, last 12)');
    setText('#api-status', 'GitHub API: OK' + (cacheGet('gh_snapshot_v7', 1e12)?' (cached ✓)':''));
  } catch (err){
    console.warn(err);
    setText('#api-status', 'GitHub API error or rate limit — showing placeholders.');
    rmSkel();
  }
}

renderSnapshot();
</script>
</body>
</html>
